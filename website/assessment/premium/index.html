<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Strategic Assessment - The Obvious Company</title>
    <meta name="description" content="Access our comprehensive automated strategic readiness assessment with personalized insights and strategic recommendations.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../../css/styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav-container">
                <a href="../../index.html" class="logo">
                    <div class="logo-dots">
                        <div class="logo-dot"></div>
                        <div class="logo-dot"></div>
                        <div class="logo-dot"></div>
                    </div>
                    The Obvious Company
                </a>
                <ul class="nav-links">
                    <li><a href="../../about.html">About</a></li>
                    <li><a href="../../services.html">Services</a></li>
                    <li><a href="../../methodology.html">Methodology</a></li>
                    <li><a href="../../case-studies.html">Case Studies</a></li>
                    <li><a href="../../insights/">Insights</a></li>
                    <li><a href="../../learn/">Learn</a></li>
                    <li><a href="../index.html" class="active">Assessment</a></li>
                    <li><a href="../../contact.html">Contact</a></li>
                </ul>
                <button class="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
        </div>
    </header>

    <!-- Premium Assessment Hero -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <div class="premium-badge" style="display: inline-block; background: linear-gradient(135deg, var(--energy-amber), #F59E0B); color: white; padding: 0.5rem 1.5rem; border-radius: 20px; font-weight: 600; margin-bottom: 1rem;">
                    <i class="fas fa-crown"></i>
                    Premium Assessment
                </div>
                <h1 class="hero-title">Comprehensive Strategic <span class="text-blue">Intelligence</span> Assessment</h1>
                <p class="hero-subtitle">
                    Advanced automated assessment with AI-powered analysis, personalized strategic recommendations, and direct access to our strategic intelligence platform.
                </p>
                
                <div class="assessment-value" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin: 2rem 0;">
                    <div class="value-item" style="text-align: center;">
                        <div style="font-size: 2rem; color: var(--clarity-blue); margin-bottom: 0.5rem;">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div style="font-weight: 600;">AI-Powered Analysis</div>
                        <div style="font-size: 0.9rem; color: var(--calm-gray);">Advanced pattern recognition</div>
                    </div>
                    <div class="value-item" style="text-align: center;">
                        <div style="font-size: 2rem; color: var(--insight-green); margin-bottom: 0.5rem;">
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <div style="font-weight: 600;">Persona Classification</div>
                        <div style="font-size: 0.9rem; color: var(--calm-gray);">Strategic positioning analysis</div>
                    </div>
                    <div class="value-item" style="text-align: center;">
                        <div style="font-size: 2rem; color: var(--energy-amber); margin-bottom: 0.5rem;">
                            <i class="fas fa-route"></i>
                        </div>
                        <div style="font-weight: 600;">Custom Roadmap</div>
                        <div style="font-size: 0.9rem; color: var(--calm-gray);">Personalized action plan</div>
                    </div>
                    <div class="value-item" style="text-align: center;">
                        <div style="font-size: 2rem; color: var(--calm-gray); margin-bottom: 0.5rem;">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div style="font-weight: 600;">Instant Access</div>
                        <div style="font-size: 0.9rem; color: var(--calm-gray);">Immediate results</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Payment Section -->
    <section class="approach-section">
        <div class="container">
            <div class="payment-container" style="max-width: 800px; margin: 0 auto;">
                <div class="section-header">
                    <h2 class="section-title">Secure M-Pesa Payment</h2>
                    <p class="section-subtitle">Complete your payment to access the premium strategic assessment platform</p>
                </div>

                <div class="payment-details" style="background: white; padding: 3rem; border-radius: 16px; box-shadow: 0 8px 32px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                    <div class="payment-header" style="text-align: center; margin-bottom: 2rem;">
                        <div class="mpesa-logo" style="margin-bottom: 1rem;">
                            <i class="fas fa-mobile-alt" style="font-size: 3rem; color: #00A651;"></i>
                        </div>
                        <h3 style="color: var(--depth-charcoal); margin-bottom: 0.5rem;">M-Pesa Payment</h3>
                        <div class="payment-amount" style="font-size: 2rem; font-weight: 700; color: var(--clarity-blue);">KSh 2,500</div>
                        <div style="color: var(--calm-gray); margin-top: 0.5rem;">Premium Strategic Assessment</div>
                    </div>

                    <div class="payment-instructions" style="background: var(--subtle-gray); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
                        <h4 style="color: var(--depth-charcoal); margin-bottom: 1rem;">
                            <i class="fas fa-list-ol" style="margin-right: 0.5rem;"></i>
                            Payment Instructions
                        </h4>
                        <ol style="color: var(--calm-gray); line-height: 1.8; padding-left: 1.5rem;">
                            <li>Go to M-Pesa on your phone</li>
                            <li>Select "Lipa na M-Pesa"</li>
                            <li>Select "Pay Bill"</li>
                            <li>Enter Business Number: <strong style="color: var(--depth-charcoal);">247247</strong></li>
                            <li>Enter Account Number: <strong style="color: var(--depth-charcoal);">OBVIOUS[Your Phone Number]</strong></li>
                            <li>Enter Amount: <strong style="color: var(--depth-charcoal);">KSh 2,500</strong></li>
                            <li>Enter your M-Pesa PIN and confirm</li>
                        </ol>
                    </div>

                    <div class="payment-form">
                        <h4 style="color: var(--depth-charcoal); margin-bottom: 1rem;">
                            <i class="fas fa-user" style="margin-right: 0.5rem;"></i>
                            Your Information
                        </h4>
                        <form id="assessmentAccessForm" style="display: grid; gap: 1.5rem;">
                            <div class="form-group">
                                <label for="fullName" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--depth-charcoal);">Full Name *</label>
                                <input type="text" id="fullName" name="fullName" required 
                                       style="width: 100%; padding: 1rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem;"
                                       placeholder="Enter your full name">
                            </div>
                            
                            <div class="form-group">
                                <label for="phoneNumber" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--depth-charcoal);">M-Pesa Phone Number *</label>
                                <input type="tel" id="phoneNumber" name="phoneNumber" required 
                                       style="width: 100%; padding: 1rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem;"
                                       placeholder="254XXXXXXXXX" pattern="254[0-9]{9}">
                            </div>
                            
                            <div class="form-group">
                                <label for="email" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--depth-charcoal);">Email Address *</label>
                                <input type="email" id="email" name="email" required 
                                       style="width: 100%; padding: 1rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem;"
                                       placeholder="your.email@company.com">
                            </div>
                            
                            <div class="form-group">
                                <label for="organization" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--depth-charcoal);">Organization</label>
                                <input type="text" id="organization" name="organization" 
                                       style="width: 100%; padding: 1rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem;"
                                       placeholder="Your organization name">
                            </div>
                            
                            <div class="form-group">
                                <label for="mpesaCode" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--depth-charcoal);">M-Pesa Transaction Code *</label>
                                <input type="text" id="mpesaCode" name="mpesaCode" required 
                                       style="width: 100%; padding: 1rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem;"
                                       placeholder="Enter M-Pesa confirmation code (e.g., QEJ7XYZ123)"
                                       pattern="[A-Z0-9]{10}">
                                <div style="font-size: 0.85rem; color: var(--calm-gray); margin-top: 0.5rem;">
                                    You'll receive this code via SMS after completing payment
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                    <input type="checkbox" id="termsAccepted" name="termsAccepted" required>
                                    <span style="font-size: 0.9rem; color: var(--calm-gray);">
                                        I agree to the <a href="../../terms.html" style="color: var(--clarity-blue);">Terms of Service</a> and 
                                        <a href="../../privacy.html" style="color: var(--clarity-blue);">Privacy Policy</a>
                                    </span>
                                </label>
                            </div>
                            
                            <button type="submit" class="btn btn-primary" style="width: 100%; justify-content: center; padding: 1rem; font-size: 1.1rem;">
                                <i class="fas fa-unlock"></i>
                                Verify Payment & Access Assessment
                            </button>
                        </form>
                    </div>
                </div>

                <div class="payment-security" style="background: linear-gradient(135deg, var(--clarity-blue), var(--insight-green)); color: white; padding: 2rem; border-radius: 12px; text-align: center;">
                    <div style="margin-bottom: 1rem;">
                        <i class="fas fa-shield-alt" style="font-size: 2rem;"></i>
                    </div>
                    <h4 style="margin-bottom: 1rem;">Secure & Confidential</h4>
                    <p style="opacity: 0.9; line-height: 1.6;">
                        Your payment and personal information are processed securely. Assessment results are confidential and used only to provide personalized strategic recommendations.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- What You Get -->
    <section class="services-preview" style="background: var(--subtle-gray);">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">What's Included</h2>
                <p class="section-subtitle">Comprehensive strategic intelligence assessment and personalized recommendations</p>
            </div>
            
            <div class="included-features" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
                <div class="feature-card" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,0.06);">
                    <div class="feature-icon" style="color: var(--clarity-blue); margin-bottom: 1rem;">
                        <i class="fas fa-chart-line" style="font-size: 2rem;"></i>
                    </div>
                    <h4>Strategic Readiness Analysis</h4>
                    <p>Comprehensive evaluation across 5 strategic dimensions with AI-powered pattern recognition and insights.</p>
                </div>

                <div class="feature-card" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,0.06);">
                    <div class="feature-icon" style="color: var(--insight-green); margin-bottom: 1rem;">
                        <i class="fas fa-user-crown" style="font-size: 2rem;"></i>
                    </div>
                    <h4>Strategic Persona Classification</h4>
                    <p>Detailed classification as Strategic Architect, Catalyst, Contributor, Explorer, or Observer with specific characteristics.</p>
                </div>

                <div class="feature-card" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,0.06);">
                    <div class="feature-icon" style="color: var(--energy-amber); margin-bottom: 1rem;">
                        <i class="fas fa-route" style="font-size: 2rem;"></i>
                    </div>
                    <h4>Personalized Roadmap</h4>
                    <p>Custom implementation pathway with timeline, milestones, and specific recommendations for your strategic context.</p>
                </div>

                <div class="feature-card" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,0.06);">
                    <div class="feature-icon" style="color: var(--calm-gray); margin-bottom: 1rem;">
                        <i class="fas fa-graduation-cap" style="font-size: 2rem;"></i>
                    </div>
                    <h4>Learning Recommendations</h4>
                    <p>Customized curriculum suggestions and program recommendations based on your strategic maturity and goals.</p>
                </div>

                <div class="feature-card" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,0.06);">
                    <div class="feature-icon" style="color: var(--clarity-blue); margin-bottom: 1rem;">
                        <i class="fas fa-handshake" style="font-size: 2rem;"></i>
                    </div>
                    <h4>Service Matching</h4>
                    <p>Intelligent matching with our programs and services based on your strategic capacity and implementation readiness.</p>
                </div>

                <div class="feature-card" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,0.06);">
                    <div class="feature-icon" style="color: var(--insight-green); margin-bottom: 1rem;">
                        <i class="fas fa-calendar-check" style="font-size: 2rem;"></i>
                    </div>
                    <h4>Follow-up Consultation</h4>
                    <p>30-minute strategic consultation to discuss your results and explore implementation opportunities.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>The Obvious Company</h3>
                    <p>Strategic Intelligence Amplification for visionary leaders</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fas fa-envelope"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3>Assessment</h3>
                    <ul>
                        <li><a href="../index.html">Free Assessment</a></li>
                        <li><a href="index.html">Premium Assessment</a></li>
                        <li><a href="../../contact.html">Strategic Consultation</a></li>
                        <li><a href="../../insights/">Strategic Insights</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Services</h3>
                    <ul>
                        <li><a href="../../services.html">Foundation Program</a></li>
                        <li><a href="../../services.html">Amplification Program</a></li>
                        <li><a href="../../services.html">Mastery Program</a></li>
                        <li><a href="../../services.html">Enterprise Solutions</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Support</h3>
                    <p>Questions about payment or assessment?</p>
                    <a href="../../contact.html" class="btn btn-outline">Contact Support</a>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 The Obvious Company. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="../../js/main.js"></script>
    <script>
        document.getElementById('assessmentAccessForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const data = Object.fromEntries(formData);
            
            // Validate M-Pesa code format
            const mpesaCodePattern = /^[A-Z0-9]{10}$/;
            if (!mpesaCodePattern.test(data.mpesaCode)) {
                alert('Please enter a valid M-Pesa transaction code (10 characters, letters and numbers)');
                return;
            }
            
            // Show loading state
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Verifying Payment...';
            submitBtn.disabled = true;
            
            try {
                const response = await fetch('/api/verify-payment', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                if (response.ok) {
                    const result = await response.json();
                    if (result.verified) {
                        // Redirect to assessment with access token
                        window.location.href = `/assessment/premium/start?token=${result.accessToken}`;
                    } else {
                        alert('Payment verification failed. Please check your M-Pesa code and try again.');
                    }
                } else {
                    throw new Error('Payment verification failed');
                }
            } catch (error) {
                console.error('Payment verification error:', error);
                alert('There was an error verifying your payment. Please contact support if the issue persists.');
            } finally {
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }
        });

        // Format phone number input
        document.getElementById('phoneNumber').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.startsWith('0')) {
                value = '254' + value.substring(1);
            } else if (!value.startsWith('254')) {
                value = '254' + value;
            }
            e.target.value = value;
        });

        // Format M-Pesa code input
        document.getElementById('mpesaCode').addEventListener('input', function(e) {
            e.target.value = e.target.value.toUpperCase();
        });
    </script>
</body>
</html>